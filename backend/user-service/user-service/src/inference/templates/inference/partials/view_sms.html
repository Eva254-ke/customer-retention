<!-- SMS View - Direct SMS Messaging -->
<div x-show="currentView === 'sms'" x-cloak>
    <div class="grid grid-2">
        <div class="card">
            <div class="card-header">
                <h2 class="card-title">Send SMS</h2>
            </div>
            <div class="card-body">
                <form @submit.prevent="sendDirectSMS()">
                    <div class="form-group">
                        <label class="form-label">Phone Number</label>
                        <input type="tel" class="form-input" x-model="sms.form.phone_number" placeholder="+254700000001" />
                    </div>
                    <div class="form-group">
                        <label class="form-label">Message</label>
                        <textarea class="form-textarea" x-model="sms.form.message" placeholder="Enter your message..." rows="4"></textarea>
                        <p class="form-hint"><span x-text="sms.form.message.length"></span>/160 characters</p>
                    </div>
                    <div class="form-group">
                        <label class="flex items-center gap-2" style="cursor: pointer;">
                            <input type="checkbox" x-model="sms.form.async" style="width: auto;" />
                            <span class="text-sm">Send asynchronously (queue)</span>
                        </label>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;" :disabled="sms.loading">
                        <span class="spinner" x-show="sms.loading"></span>
                        <span x-text="sms.loading ? 'Sending...' : 'Send SMS'"></span>
                    </button>
                </form>
                
                <!-- Result Alert -->
                <div class="alert mt-4" :class="sms.result?.error ? 'alert-error' : 'alert-success'" x-show="sms.result">
                    <svg class="alert-icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path x-show="!sms.result?.error" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        <path x-show="sms.result?.error" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <div class="alert-content">
                        <div class="alert-title" x-text="sms.result?.error ? 'Failed' : 'Success'"></div>
                        <div x-text="sms.result?.error || 'SMS sent successfully'"></div>
                        <div class="mono text-xs mt-2" x-show="sms.result?.message_id">ID: <span x-text="sms.result?.message_id"></span></div>
                        <div class="mono text-xs mt-2" x-show="sms.result?.task">Task ID: <span x-text="sms.result?.task?.id"></span></div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- API Reference -->
        <div class="card">
            <div class="card-header">
                <h2 class="card-title">API Reference</h2>
            </div>
            <div class="card-body">
                <div class="service-status">
                    <div class="service-icon sms">
                        <svg width="18" height="18" fill="white" viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/></svg>
                    </div>
                    <div class="service-info">
                        <div class="service-name">Send SMS</div>
                        <div class="service-endpoint">POST /api/communications/send-sms/</div>
                    </div>
                    <span class="badge badge-success"><span class="status-dot"></span> Active</span>
                </div>
                <div class="service-status">
                    <div class="service-icon auth">
                        <svg width="18" height="18" fill="white" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                    </div>
                    <div class="service-info">
                        <div class="service-name">Task Status</div>
                        <div class="service-endpoint">GET /api/communications/tasks/:id/</div>
                    </div>
                    <span class="badge badge-success"><span class="status-dot"></span> Active</span>
                </div>
                
                <div class="result-panel mt-4">
                    <div class="result-panel-title">Request Body</div>
                    <pre class="mono text-sm" style="margin: 0.5rem 0 0; color: var(--text-secondary);">{
  "phone_number": "+254700000001",
  "message": "Your message here",
  "async": false
}</pre>
                </div>
            </div>
        </div>
    </div>
</div>
